const cmCookieAPI=Cookies.withAttributes({expires:cmCookieExpires,path:"/",domain:consent_manager_parameters.domain,sameSite:"Lax",secure:!1});function consent_manager_showBox(){var e=[];void 0!==cmCookieAPI.get("consent_manager")&&(cookieData=JSON.parse(cmCookieAPI.get("consent_manager"))).hasOwnProperty("version")&&(e=cookieData.consents),(consent_managerBox=document.getElementById("consent_manager-background")).querySelectorAll("[data-cookie-uids]").forEach(function(n){var t=!0;JSON.parse(n.getAttribute("data-cookie-uids")).forEach(function(n){-1===e.indexOf(n)&&(t=!1)}),t&&(n.checked=!0)}),consent_manager_parameters.hidebodyscrollbar&&(document.querySelector("body").style.overflow="hidden"),document.getElementById("consent_manager-background").classList.remove("consent_manager-hidden");var n=consent_managerBox.querySelectorAll('input[type="checkbox"]')[0];consent_managerBox.focus(),n&&n.focus()}function consent_manager_hasconsent(e){return void 0!==cmCookieAPI.get("consent_manager")&&-1!==JSON.parse(cmCookieAPI.get("consent_manager")).consents.indexOf(e)}!function(){"use strict";var e,n=0,t={},o=[],a=-1,r=-1,c=-1,i=-1;if(consent_manager_parameters.no_cookie_set=!1,void 0===cmCookieAPI.get("consent_manager")?(cmCookieAPI.set("consent_manager_test","test"),void 0===cmCookieAPI.get("consent_manager_test")?(n=0,consent_manager_parameters.no_cookie_set=!0,console.warn("Addon consent_manager: Es konnte kein Cookie f\xfcr die Domain "+consent_manager_parameters.domain+" gesetzt werden!")):(cmCookieAPI.remove("consent_manager_test"),n=1)):(t=JSON.parse(cmCookieAPI.get("consent_manager"))).hasOwnProperty("version")&&(o=t.consents,c=parseInt(t.version),i=parseInt(t.cachelogid)),""===consent_manager_box_template){console.warn("Addon consent_manager: Keine Cookie-Gruppen / Cookies ausgew\xe4hlt bzw. keine Domain zugewiesen! ("+location.hostname+")");return}function s(n){if(o=[],t={consents:[],version:a,consentid:consent_manager_parameters.consentid,cachelogid:consent_manager_parameters.cachelogid},"none"!==n?e.querySelectorAll("[data-cookie-uids]").forEach(function(t){var a=JSON.parse(t.getAttribute("data-cookie-uids"));t.checked||"all"===n?a.forEach(function(n){o.push(n),l(e.querySelector('[data-uid="script-'+n+'"]')),u(e.querySelector('[data-uid="script-unselect-'+n+'"]'))}):a.forEach(function(n){u(e.querySelector('[data-uid="script-'+n+'"]')),l(e.querySelector('[data-uid="script-unselect-'+n+'"]'))})}):e.querySelectorAll("[data-cookie-uids]").forEach(function(n){var t=JSON.parse(n.getAttribute("data-cookie-uids"));n.disabled?t.forEach(function(n){o.push(n),l(e.querySelector('[data-uid="script-'+n+'"]')),u(e.querySelector('[data-uid="script-unselect-'+n+'"]'))}):(n.checked=!1,t.forEach(function(n){u(e.querySelector('[data-uid="script-'+n+'"]')),l(e.querySelector('[data-uid="script-unselect-'+n+'"]'))}))}),t.consents=o,cmCookieAPI.set("consent_manager",JSON.stringify(t)),void 0===cmCookieAPI.get("consent_manager"))consent_manager_parameters.no_cookie_set=!0,console.warn("Addon consent_manager: Es konnte kein Cookie f\xfcr die Domain "+document.domain+" gesetzt werden!");else{var r=new XMLHttpRequest,c=consent_manager_parameters.fe_controller+"?rex-api-call=consent_manager&buster="+new Date().getTime(),i="domain="+document.domain+"&consentid="+consent_manager_parameters.consentid+"&buster="+new Date().getTime();r.onerror=e=>{console.error("Addon consent_manager: Fehler beim speichern des Consent! "+r.statusText)},r.open("POST",c,!1),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.setRequestHeader("Cache-Control","no-cache, no-store, max-age=0"),r.setRequestHeader("Expires","Thu, 1 Jan 1970 00:00:00 GMT"),r.setRequestHeader("Pragma","no-cache"),r.send(i)}document.querySelectorAll(".consent_manager-show-box-reload").length||1===consent_manager_parameters.forcereload?location.reload():document.dispatchEvent(new CustomEvent("consent_manager-saved",{detail:JSON.stringify(o)}))}function d(){var e=consent_manager_parameters.domain;for(var n in cmCookieAPI.get())cmCookieAPI.remove(encodeURIComponent(n)),cmCookieAPI.remove(encodeURIComponent(n),{domain:e}),cmCookieAPI.remove(encodeURIComponent(n),{path:"/"}),cmCookieAPI.remove(encodeURIComponent(n),{domain:e,path:"/"}),cmCookieAPI.remove(encodeURIComponent(n),{domain:"."+e}),cmCookieAPI.remove(encodeURIComponent(n),{domain:"."+e,path:"/"}),Cookies.remove(encodeURIComponent(n),{domain:window.location.hostname}),Cookies.remove(encodeURIComponent(n),{path:"/"}),Cookies.remove(encodeURIComponent(n),{domain:window.location.hostname,path:"/"})}function l(e){var n;if(e&&!e.children.length){n=new DOMParser().parseFromString(window.atob(e.getAttribute("data-script")),"text/html");for(var t=0;t<n.scripts.length;t++){var o=document.createElement("script");n.scripts[t].src?o.src=n.scripts[t].src:o.innerHTML=n.scripts[t].innerHTML,e.appendChild(o)}}}function u(e){e&&(e.innerHTML="")}function m(){e.querySelectorAll("[data-cookie-uids]").forEach(function(e){var n=!0;JSON.parse(e.getAttribute("data-cookie-uids")).forEach(function(e){-1===o.indexOf(e)&&(n=!1)}),n&&(e.checked=!0)}),consent_manager_parameters.hidebodyscrollbar&&(document.querySelector("body").style.overflow="hidden"),document.getElementById("consent_manager-background").classList.remove("consent_manager-hidden");var n=e.querySelectorAll('input[type="checkbox"]')[0];e.focus(),n&&n.focus()}e=(e=new DOMParser().parseFromString(consent_manager_box_template,"text/html")).getElementById("consent_manager-background"),document.querySelectorAll("body")[0].appendChild(e),a=parseInt(consent_manager_parameters.version),r=parseInt(consent_manager_parameters.cachelogid),(a!==c||r!==i)&&(n=1,o=[],d()),o.forEach(function(n){l(e.querySelector('[data-uid="script-'+n+'"]')),u(e.querySelector('[data-uid="script-unselect-'+n+'"]'))}),e.querySelectorAll("[data-cookie-uids]").forEach(function(n){JSON.parse(n.getAttribute("data-cookie-uids")).forEach(function(n){o.includes(n)||(u(e.querySelector('[data-uid="script-'+n+'"]')),l(e.querySelector('[data-uid="script-unselect-'+n+'"]')))})}),(consent_manager_parameters.initially_hidden||consent_manager_parameters.no_cookie_set)&&(n=0),n&&m(),e.querySelectorAll(".consent_manager-close").forEach(function(e){e.addEventListener("click",function(){return e.classList.contains("consent_manager-save-selection")?(d(),s("selection")):e.classList.contains("consent_manager-accept-all")?(d(),s("all")):e.classList.contains("consent_manager-accept-none")?(d(),s("none")):e.classList.contains("consent_manager-close")&&!document.getElementById("consent_manager-detail").classList.contains("consent_manager-hidden")&&document.getElementById("consent_manager-detail").classList.toggle("consent_manager-hidden"),consent_manager_parameters.hidebodyscrollbar&&(document.querySelector("body").style.overflow="auto"),document.getElementById("consent_manager-background").classList.add("consent_manager-hidden"),!1})}),document.getElementById("consent_manager-toggle-details")&&document.getElementById("consent_manager-toggle-details").addEventListener("click",function(){return document.getElementById("consent_manager-detail").classList.toggle("consent_manager-hidden"),!1}),document.getElementById("consent_manager-toggle-details")&&document.getElementById("consent_manager-toggle-details").addEventListener("keydown",function(e){if("Enter"==e.key)return document.getElementById("consent_manager-detail").classList.toggle("consent_manager-hidden"),!1}),document.querySelectorAll(".consent_manager-show-box, .consent_manager-show-box-reload").forEach(function(e){e.addEventListener("click",function(){return m(),!1})})}();