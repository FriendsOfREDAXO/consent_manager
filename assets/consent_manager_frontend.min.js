function consent_manager_showBox() { var o = []; void 0 !== Cookies.get("consent_manager") && (cookieData = JSON.parse(Cookies.get("consent_manager")), cookieData.hasOwnProperty("version") && (o = cookieData.consents)), consent_managerBox = document.getElementById("consent_manager-background"), consent_managerBox.querySelectorAll("[data-cookie-uids]").forEach(function (e) { var n = !0; JSON.parse(e.getAttribute("data-cookie-uids")).forEach(function (e) { -1 === o.indexOf(e) && (n = !1) }), n && (e.checked = !0) }), consent_manager_parameters.hidebodyscrollbar && (document.querySelector("body").style.overflow = "hidden"), document.getElementById("consent_manager-background").classList.remove("consent_manager-hidden"); var e = consent_managerBox.querySelectorAll('input[type="checkbox"]')[0]; consent_managerBox.focus(), e.focus() } function consent_manager_hasconsent(e) { return void 0 !== Cookies.get("consent_manager") && -1 !== JSON.parse(Cookies.get("consent_manager")).consents.indexOf(e) } !function () { "use strict"; var a, e, r, c = new Date, n = 0, s = {}, i = [], o = -1, t = -1; function d(o) { i = [], s = { consents: [], version: a, consentid: consent_manager_parameters.consentid, cachelogid: consent_manager_parameters.cachelogid }, "none" !== o && r.querySelectorAll("[data-cookie-uids]").forEach(function (e) { var n = JSON.parse(e.getAttribute("data-cookie-uids")); e.checked || "all" === o ? n.forEach(function (e) { i.push(e), l(r.querySelector('[data-uid="script-' + e + '"]')) }) : n.forEach(function (e) { (e = r.querySelector('[data-uid="script-' + e + '"]')) && (e.innerHTML = "") }) }), s.consents = i, Cookies.set("consent_manager", JSON.stringify(s), { expires: c, path: "/", domain: consent_manager_parameters.domain, sameSite: "Lax", secure: !1 }); var e = new XMLHttpRequest, n = consent_manager_parameters.fe_controller + "?rex-api-call=consent_manager", t = "domain=" + consent_manager_parameters.domain + "&consentid=" + consent_manager_parameters.consentid; e.open("POST", n, !1), e.setRequestHeader("Content-type", "application/x-www-form-urlencoded"), e.send(t), document.querySelectorAll(".consent_manager-show-box-reload").length || 1 === consent_manager_parameters.forcereload ? location.reload() : document.dispatchEvent(new CustomEvent("consent_manager-saved", { detail: JSON.stringify(i) })) } function m() { var e, n = consent_manager_parameters.domain; for (e in Cookies.get()) Cookies.remove(encodeURIComponent(e)), Cookies.remove(encodeURIComponent(e), { domain: n }), Cookies.remove(encodeURIComponent(e), { path: "/" }), Cookies.remove(encodeURIComponent(e), { domain: n, path: "/" }), Cookies.remove(encodeURIComponent(e), { domain: "." + n }), Cookies.remove(encodeURIComponent(e), { domain: "." + n, path: "/" }) } function l(e) { var n; if (e && !e.children.length) { n = (new DOMParser).parseFromString(window.atob(e.getAttribute("data-script")), "text/html"); for (var o = 0; o < n.scripts.length; o++) { var t = document.createElement("script"); n.scripts[o].src ? t.src = n.scripts[o].src : t.innerHTML = n.scripts[o].innerHTML, e.appendChild(t) } } } function g() { r.querySelectorAll("[data-cookie-uids]").forEach(function (e) { var n = !0; JSON.parse(e.getAttribute("data-cookie-uids")).forEach(function (e) { -1 === i.indexOf(e) && (n = !1) }), n && (e.checked = !0) }), consent_manager_parameters.hidebodyscrollbar && (document.querySelector("body").style.overflow = "hidden"), document.getElementById("consent_manager-background").classList.remove("consent_manager-hidden"); var e = r.querySelectorAll('input[type="checkbox"]')[0]; r.focus(), e.focus() } c.setFullYear(c.getFullYear() + 1), void 0 === Cookies.get("consent_manager") ? (n = 1, Cookies.set("test", "test", { path: "/", sameSite: "Lax", secure: !1 }), void 0 === Cookies.get("test") ? n = 0 : Cookies.remove("test")) : (s = JSON.parse(Cookies.get("consent_manager"))).hasOwnProperty("version") && (i = s.consents, o = parseInt(s.version), t = parseInt(s.cachelogid)), "" !== consent_manager_box_template ? (r = (r = (new DOMParser).parseFromString(consent_manager_box_template, "text/html")).getElementById("consent_manager-background"), document.querySelectorAll("body")[0].appendChild(r), a = parseInt(consent_manager_parameters.version), e = parseInt(consent_manager_parameters.cachelogid), a === o && e === t || (n = 1, i = [], m()), 9 === consent_managerIEVersion() && r.querySelectorAll(".consent_manager-cookiegroup-checkbox").forEach(function (e) { e.classList.remove("pretty"), e.querySelectorAll(".icon").forEach(function (e) { e.remove() }) }), i.forEach(function (e) { l(r.querySelector('[data-uid="script-' + e + '"]')) }), consent_manager_parameters.initially_hidden && (n = 0), n && g(), r.querySelectorAll(".consent_manager-close").forEach(function (e) { e.addEventListener("click", function () { e.classList.contains("consent_manager-save-selection") ? (m(), d("selection")) : e.classList.contains("consent_manager-accept-all") ? (m(), d("all")) : e.classList.contains("consent_manager-accept-none") ? (m(), d("none")) : e.classList.contains("consent_manager-close") && (document.getElementById("consent_manager-detail").classList.contains("consent_manager-hidden") || document.getElementById("consent_manager-detail").classList.toggle("consent_manager-hidden")), consent_manager_parameters.hidebodyscrollbar && (document.querySelector("body").style.overflow = "auto"), document.getElementById("consent_manager-background").classList.add("consent_manager-hidden") }) }), document.getElementById("consent_manager-toggle-details") && document.getElementById("consent_manager-toggle-details").addEventListener("click", function () { document.getElementById("consent_manager-detail").classList.toggle("consent_manager-hidden") }), document.getElementById("consent_manager-toggle-details") && document.getElementById("consent_manager-toggle-details").addEventListener("keydown", function (e) { "Enter" == e.key && document.getElementById("consent_manager-detail").classList.toggle("consent_manager-hidden") }), document.querySelectorAll(".consent_manager-show-box, .consent_manager-show-box-reload").forEach(function (e) { e.addEventListener("click", function () { g() }) })) : console.warn("Addon consent_manager: Keine Cookie-Gruppen / Cookies ausgewÃ¤hlt bzw. keine Domain zugewiesen! (" + location.hostname + ")") }();